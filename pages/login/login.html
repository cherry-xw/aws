<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="../../css/mui.min.css" rel="stylesheet" />
		<style type="text/css">
			.login-page {
				position: absolute;
				background: #fff url(../../imgs/back.jpg) no-repeat fixed bottom;
				/*background-size: 100% 100%;*/
				top: 0;
				/*height: 500px;*/
				/*bottom: 0;*/
			}
			.logo{
				text-align: center;
				color: #fff;
				font-size: 3em;
				line-height: 150px;
				text-shadow: 5px 5px 5px #444;
			}
			.input-box {
				margin: 15px 50px;
				display: flex;
				flex-direction: row;
				border-bottom: 3px solid #007AFF;
				box-shadow: 1px 1px 3px #999;
			}
			.input-label {
				padding: 10px;
				color: #333 !important;
				background-color: rgba(255,255,255,0.3);
				height: 45px !important;
				width: 20% !important;
				font-weight: bold;
				text-align: center;
				/*flex: 1;*/
			}
			.input-content {
				width: 80% !important;
				padding: 10px;
				background-color: rgba(255,255,255,0.3) !important;
				border-radius: 0 !important;
				border: 0 !important;
				margin: 0 !important;
				height: 45px !important;
				/*flex: 1;*/
			}
			.btn-father {
				text-align: center;
				margin: 15px 50px;
			}
			.mui-btn-primary {
				width: 100%;
			}
		</style>
	</head>

	<body>
		<div class="mui-content mui-scroll-wrapper mui-fullscreen login-page">
		    <div class="mui-scroll">
		    	<div class="logo">ASPI</div>
			    <div class="input-box">
			    	<label class="input-label mui-icon mui-icon-person"></label>
			    	<input type="text" placeholder="请输入用户名" class="input-content"/>
			    </div>
			    <div class="input-box">
			    	<label class="input-label mui-icon mui-icon-locked"></label>
			    	<input type="text" placeholder="请输入密码" class="input-content"/>
			    </div>
			    <div class="btn-father">
			    	<button class="mui-btn-primary" id="login">登录</button>
			    </div>
		    </div>
		</div>
		<script src="../../js/mui.min.js"></script>
		<script type="text/javascript">
			mui.init()
			mui('.mui-scroll-wrapper').scroll({
				deceleration: 0.0005 //flick 减速系数，系数越大，滚动速度越慢，滚动距离越小，默认值0.0006
			});
			mui.plusReady(function() {  
                var height1 = plus.android.invoke(plus.android.currentWebview(), "getHeight");//高度物理分辨率  
                var height2 = plus.screen.resolutionHeight;//高度逻辑分辨率  
                var top = plus.navigator.getStatusbarHeight();//状态栏高度  
                document.getElementsByClassName("mui-content")[0].style.height = (height2) + "px";
           });
           
            var mask=mui.createMask();//遮罩层
			mui(document.body).on('tap','#login',function(){
				mui.ajax('http://127.0.0.1/login',{
				    data:{
				        userName:"userName",
				        userPwd:"userPwd"
				    },
				    dataType: 'json', //服务器返回json格式数据
			        type: 'post', //HTTP请求类型
			        timeout: 10000, //超时时间设置为10秒；
				    beforeSend: function() {
				        plus.nativeUI.showWaiting("登录中...");
				        mask.show();//显示遮罩层
				    },
				    complete: function() {
				        plus.nativeUI.closeWaiting();
				        mask.closed();//关闭遮罩层
				    },
				    success: function(data) {
				        //服务器返回响应，根据响应结果，分析是否登录成功； 
				        if(data=='1'){
				            mui.alert('登录成功');
				        }
				    },
				    error: function(xhr, type, errorThrown) {
				        mui.alert('服务器连接超时，请稍后再试');
				    }
				});
			});

		</script>
	</body>

</html>